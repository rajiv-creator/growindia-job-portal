<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Signed in</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="/config.js?v=143"></script>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;margin:0;padding:32px;line-height:1.5}
    .btn{display:inline-block;margin-right:8px;height:40px;padding:0 14px;border-radius:10px;border:0;background:#0ea5e9;color:#fff;text-decoration:none;line-height:40px}
    .ghost{background:#e5e7eb;color:#111}
  </style>
</head>
<body>
  <h1>Youâ€™re signed in</h1>
  <p id="who"></p>
  <p>
    <a class="btn" href="/admin.html">Go to Admin</a>
    <a class="btn ghost" href="/jobs.html">Browse Jobs</a>
    <a class="btn ghost" href="/index.html" id="logout">Logout</a>
  </p>

  <script>
    (async () => {
      const { data } = await window.sbAuth.getSession();
      const user = data?.session?.user;
      document.getElementById("who").textContent =
        user ? ("Signed in as " + user.email) : "No active session.";
      document.getElementById("logout").addEventListener("click", async (e) => {
        e.preventDefault();
        await window.sbAuth.signOut();
        location.href = "/index.html";
      });
    })();
  </script>
</body>
</html>
